# 变更管理定义
**变更：**对线上环境作出的任何操作均属于变更。

变更管理是运维流程的重要环节，有效防控变更风险，降低由变更操作引起的故障，保证业务连续性。

**变更管理的目标：**
- 规范化、标准化变更。降低变更风险。
- 有计划、受管控的变更操作降低故障发生率、业务连续性异常。
- 规范变更准备及变更方案，提高变更成功率与可靠性。
- 变更有记录，所有变更可回溯。

**核心功能**
*针对变更操作的审批管控以及所有变更记录*
- 基础配置：支持自定义配置变更系统、变更类型、变更场景。
- 审批配置：支持用户根据不同的变更系统、类型、场景自定义配置审批流。
- 变更审批与通知：变更单发起后，支持自动匹配审批流。同时支持自动通知各节点审批人、通知变更发起人审批结果以及变更执行人变更任务。支持审批人进行单据审批与执行人进行变更执行。
- 变更结果记录：支持查询所有变更记录。
- 变更日历：变更单与日历结合。支持月维度的变更统计、查询，便于快速发现问题变更与变更分析。

*变更单的生命周期全纪录与管理。*
- 变更草稿：支持变更单保存为草稿，支持后续修改与提前输入变更方案。
- 变更提交：支持变更申请，输入变更基本信息、变更方案等内容等后，可发起变更单进入审批流。
- 变更取消：支持变更申请后的取消操作。
- 审批操作：支持变更申请后的审批操作，同时支持变更转交。
- 执行操作：支持变更审批通过后的执行操作。
- 变更查询：支持查询历史变更单，以及快速查询与我相关的所有变更。

# 变更流程文件
定义：
变更流程文件定义了一个变更的具体流程。
**变更插件**开发人员，根据人工变更**SOP**，在**编排工具**上，使用拖拽的方式，将各个操作步骤串联起来，每个操作步骤即为一个**原子动作**，对应编排工具上的一个用户任务。

# BPM, BPMN, BPMN2.0概念介绍
**BPM业务流程管理**，从管理业务流程的角度来说，我们现有的IT系统大多数都属于这一类，比如供应链领域的InStock（WMS），物流管理/提货送货预约（TMS），订单管理OMS、SRM、CRM等。都可以称之为BPM系统。系统存在的意义就是用来管理企业/政府等经营/行政主体管理自身纷繁复杂的业务关系以及业务流程。

正如我们处理现实中的问题的解决思路一样，我们通常对已经存在复杂问题进行模型化的抽象，通过模型来推导解决问题的方案。也就是所谓的建模（这一过程也被称之为Business Process Modeling业务流程建模）。BPM有很多种建模语言，**BPMN（Business Process Modeling Notation）**就是其中的一种建模语言。

而在BPMN发展的过程中，基于BPMN的一些特性与业务流程管理中常见的一些情况，总结提炼出了一套标准。这套标准或者也可称之为规范，在2004年5月由BPMI Notation Working Group对外发布，这就是BPMN 1.0 规范。后BPMI并入到OMG组织，并在2011年推出BPMN2.0标准，对BPMN进行了重新定义(Business Process Model and Notation)。这就是我们常说的**BPMN2.0**。

## BPMN2.0的基本元素
包括 顺序流（sequence flow），活动任务（用户任务，服务任务），网关（排他网关，并行网关），事件（启动&结束事件，边界事件，抛出&捕获事件），子流程与调用活动。
https://www.cnblogs.com/amerkor/p/13728576.html


# 使用BPMN及工作流引擎来处理业务流程的优缺点
## 优点
- 业务流程间的可视配置化
- 开发与业务人员间的交流语言得到了统一
- 使知识（业务、决策逻辑、具体执行等）可以得到更大范围的沉淀

## 缺点
- 性能表现
流程节点（任务）本身在执行过程中经历了更多的步骤以及持久化过程，对于性能上以及优化上引入了更大的复杂度。
- 既有研发方式的变化
难以在代码层级对跨任务的执行过程进行切面处理。工作流的引入，对于AOP的使用带来了很多困难，例如使用AOP实现的日志、特定的验证和数据包装等，原先很简单的一个实现方式，现在变得非常复杂。
- 单一的应用BPMN会存在一些局限，复合使用则略显复杂
结合CMMN、DMN进行业务的支持，BPMN强调的是流程与固定步骤的执行，CMMN强调的是事件驱动的动态案例执行，DMN侧重于流程中的决策的汇总与整合。
	- 举例：
家具厂生产家具，生产橱柜和沙发，橱柜和沙发的生产流程都是固定的，使用BPMN来解决橱柜生产和沙发生产的流程是合适的。而如果将完成生产订单的业务整体来建模，则生产橱柜和沙发的流程对于一个订单来说，可能不存在严格的先后顺序，更多的是基于事件和决策的执行，比如当订单客户有客制化要求，或者原材料供应商是否能够按时供应等等。使用BPMN中的并行网关+事件处理也能完成业务建模，但可能导致模型复杂。
- BPMN的事务处理
	- 与数据库事务的比较，单个任务执行过程是一个传统数据库事务，整个流程是一个长活事务。
	- 整个流程的事务表现上更具有明显的分布式事务的特征。
	- 事务失败回滚补偿机制的问题需要进行更多考虑。
